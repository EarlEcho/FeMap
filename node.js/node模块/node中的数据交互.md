# Node ä¸­çš„æ•°æ®äº¤äº’

æ•°æ®äº¤äº’å¸¸ç”¨çš„ä¸¤ç§æ–¹å¼ï¼š

1.  GETï¼šä¸»è¦ç”¨äºè·å–æ•°æ®ï¼Œæ•°æ®æ”¾åœ¨ url ä¸­è¿›è¡Œä¼ è¾“ï¼Œæ•°æ®æ”¾åœ¨è¯·æ±‚çš„å¤´éƒ¨æŠ¥æ–‡ä¸­ï¼Œå®¹é‡å°ï¼ˆ<=32kï¼‰
2.  POSTï¼š

## GET è¯·æ±‚çš„ä½¿ç”¨æ–¹å¼

```js
let http = require("http");
http
  .createServer((req, res) => {
    console.log(req.url);
  })
  .listen(8888);
```

è¿™é‡Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª html é¡µé¢ï¼Œå¹¶ç»“åˆåŒç›®å½•ä¸‹çš„ç»ƒä¹ æ¥ä¸€èµ·çœ‹ï¼š

ğŸ”—â€”[Get è¯·æ±‚](../practice/getè¯·æ±‚/form.html)

è¿™é‡Œæ–°å»ºäº†ä¸€ä¸ª form ç”¨äºæäº¤è¡¨å•ï¼Œè¯·æ±‚æ–¹å¼ä¸º getï¼Œè¯·æ±‚åœ°å€æ˜¯æˆ‘ä»¬ä¸Šé¢å†™çš„ 8888 ç«¯å£ä¸‹çš„æŸä¸ªè·¯å¾„ï¼Œæˆ‘ä»¬ç‚¹äº†æäº¤ä¹‹åå°±æ˜¯æŠŠå¡«å†™çš„æ•°æ®å‘é€åˆ° method æŒ‡å®šçš„ 8888 ç«¯å£ä¸‹çš„ submit è·¯å¾„ä¸‹ã€‚

æˆ‘ä»¬ç°åœ¨å¯ä»¥æ¥è¯•éªŒä¸€ä¸‹ï¼šï¼ˆåœ¨ `practice/get` è¯·æ±‚çš„ç›®å½•ä¸‹ï¼‰

1. åœ¨`index.js`ä¸­å†™å…¥ä¸Šé¢ get è¯·æ±‚æ–¹å¼çš„ä»£ç 
2. åœ¨åŒç›®å½•ä¸‹æ‰§è¡Œ`node index`
3. æˆ‘ä»¬æ‰§è¡Œå®Œæ¯•åå¯ä»¥çœ‹åˆ°ç«¯å£è¿è¡Œèµ·æ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä¸œè¥¿è¾“å‡ºï¼Œè¿™æ—¶æˆ‘ä»¬åœ¨æµè§ˆå™¨æ‰“å¼€ `form.html`ï¼Œè¾“å…¥ç”¨æˆ·å/å¯†ç å¹¶ç‚¹å‡»æäº¤ï¼Œè¿™æ—¶æˆ‘ä»¬å°±èƒ½åœ¨æ§åˆ¶å°çœ‹åˆ°æˆ‘ä»¬æäº¤çš„ä¿¡æ¯äº†ï¼Œé•¿è¿™ä¸ªæ ·å­ï¼š

```
/submit?username=Echo&password=123456
```

ç°åœ¨å°±åˆ°äº†å¤„ç†æ•°æ®çš„æ—¶å€™äº†ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè·å–åˆ°çš„ç”¨æˆ·åå’Œå¯†ç å¤„ç†å‡ºæ¥ï¼Œå¦‚æœç”¨ js çš„æ–¹å¼å¤„ç†å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

1. `str.split('?')` -> å¾—åˆ°æäº¤çš„ä¸€æ•´ä¸²å­—ç¬¦
2. `str.split('&')` -> åˆ†åˆ«å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç çš„å­—ç¬¦ä¸²
3. `str.split('=')` -> å¾—åˆ°å…·ä½“çš„å­—æ®µä»¥åŠå¯¹åº”çš„å€¼

ä½†æ˜¯è¿™æ ·åšå‘¢å°±éå¸¸çš„éº»çƒ¦å•¦ï¼Œæ‰€ä»¥ node.js ä¸ºæˆ‘ä»¬æä¾›äº†æ›´åŠ ä¾¿æ·çš„æ–¹å¼ã€‚è¿™ä¸ªæ–¹æ³•å°±åœ¨ `url` æ¨¡å—é‡Œå•¦ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢ get è¯·æ±‚æ–¹å¼çš„ä»£ç  çš„åŸºç¡€ä¸Šæˆ‘ä»¬æ”¹æˆä¸‹é¢è¿™æ ·ï¼š

```js
let http = require("http");
let url = require("url");
http
  .createServer((req, res) => {
    // è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªhtmlé¡µé¢æ¨¡æ‹Ÿä¸€ä¸‹æ•°æ®æäº¤
    // console.log(req.url);
    //  submit?username=Echo&password=123456
    console.log(url.parse(req.url, true));
    // trueçš„æ„æ€è¡¨ç¤º è‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†urlçš„å‚æ•°
    //  æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—åˆ°form.htmlç»™æˆ‘ä»¬å‘é€çš„å‚æ•°
    let { pathname, query } = url.parse(req.url, true);
    console.log(pathname, query);
    // è¿™é‡Œæ‰“å°å‡ºæ¥çš„pathnameå°±æ˜¯æˆ‘ä»¬å‘èµ·è¯·æ±‚çš„è·¯ç”±
    // queryå°±æ˜¯åé¢è·Ÿç€çš„username / passwordå‚æ•°
    // è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ˜“çš„æ‹¿åˆ°è·å–çš„æ•°æ®å•¦
  })
  .listen(8888);
```

è¿™æ ·å°±å¤§ä½“å®Œæˆäº†ä¸€ä¸ª get è¯·æ±‚å•¦ï½ï½
